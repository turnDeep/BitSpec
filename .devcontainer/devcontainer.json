{
    "name": "BitSpec Mass Spectrum Prediction",
    "build": {
        "dockerfile": "Dockerfile",
        "context": ".."
    },
    "runArgs": [
        "--gpus=all",
        "--shm-size=24gb",
        "--ipc=host"
    ],
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-python.python",
                "ms-python.vscode-pylance",
                "ms-toolsai.jupyter",
                "ms-azuretools.vscode-docker",
                "eamodio.gitlens",
                "gruntfuggly.todo-tree"
            ],
            "settings": {
                "python.defaultInterpreterPath": "/usr/bin/python3",
                "python.linting.enabled": true,
                "python.linting.pylintEnabled": false,
                "python.linting.flake8Enabled": true,
                "python.formatting.provider": "black",
                "editor.formatOnSave": true,
                "editor.rulers": [88],
                "files.exclude": {
                    "**/__pycache__": true,
                    "**/*.pyc": true,
                    "**/.pytest_cache": true,
                    "data/mol_files": true
                },
                "files.watcherExclude": {
                    "**/__pycache__": true,
                    "**/.pytest_cache": true,
                    "data/mol_files/**": true,
                    "**/*.mol": true,
                    "**/*.sdf": true,
                    "**/*.msp": true
                },
                "search.exclude": {
                    "**/__pycache__": true,
                    "**/.pytest_cache": true,
                    "data/mol_files/**": true,
                    "**/*.mol": true,
                    "**/*.sdf": true
                }
            }
        }
    },
    "mounts": [
        "source=${localWorkspaceFolder}/data,target=/workspace/data,type=bind",
        "source=${localWorkspaceFolder}/checkpoints,target=/workspace/checkpoints,type=bind"
    ],
    "workspaceFolder": "/workspace",
    "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached",
    "postCreateCommand": "pip3 install --extra-index-url https://download.pytorch.org/whl/cu128 --find-links https://data.pyg.org/whl/torch-2.7.0+cu128.html -e .",
    "remoteUser": "devuser",
    "features": {
        "ghcr.io/devcontainers/features/git:1": {},
        "ghcr.io/devcontainers/features/common-utils:2": {
            "installZsh": false,
            "installOhMyZsh": false
        }
    }
}
